为什么要给表加上主键？
为什么加索引后会使查询变快？
为什么加索引后会使写入、修改、删除变慢？
什么情况下要同时在两个字段上建索引？
处理千万级数据需深入了解索引的原理

如果给表上了主键，那么表在磁盘上的存储结构就由整齐排列的结构转变成了树状结构，
即「平衡树」结构，换句话说，就是整个表就变成了一个索引，也就是所谓的「聚集索引」。
这就是为什么一个表只能有一个主键， 一个表只能有一个「聚集索引」，
因为主键的作用就是把「表」的数据格式转换成「索引（平衡树）」的格式放置

假如一张表有一亿条数据 ，需要查找其中某一条数据，一条一条的去匹配的话， 
最坏的情况下需要匹配一亿次才能得到结果，用大O标记法就是O(n)最坏时间复杂度，
这一亿次匹配在不经缓存优化的情况下就是一亿次IO开销，以现在磁盘的IO能力和CPU的运算能力， 
有可能需要几个月才能得出结果 。如果把这张表转换成平衡树结构（一棵非常茂盛和节点非常多的树），
假设这棵树有10层，那么只需要10次IO开销就能查找到所需要的数据， 速度以指数级别提升，
用大O标记法就是O(log n)，查找次数是以树的分叉数为底，记录总数的对数，
用程序来表示就是Math.Log(100000000,10)，100000000是记录数，10是树的分叉数

索引能让数据库写入数据的速度下降，因为平衡树这个结构必须一直维持在一个正确的状态，
增删改数据都会改变平衡树各节点中的索引数据内容，破坏树结构，
在每次数据改变时， DBMS必须去重新梳理树（索引）的结构以确保它的正确，这会带来不小的性能开销。
非聚集索引和聚集索引的区别在于，通过聚集索引可以查到需要查找的数据， 
而通过非聚集索引（我们平时用的）可以查到记录对应的主键值 ， 再使用主键的值通过聚集索引查找到需要的数据，
不管以任何方式查询表， 最终都会利用主键通过聚集索引来定位到数据， 聚集索引（主键）是通往真实数据所在的唯一路径。
